<template>
    <template if:true={isLoading}>
        <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
    </template>
    <lightning-card>
        <div class="container">
            <div class="calendar">
                <div class="date-selector">
                    
                    <p class="date-range">{dateRangeLabels.start} - {dateRangeLabels.end}</p>
                    <button class="prev" onclick={prevRange} disabled={firstDateRange}>&#10094;</button>
                    <button class="next" onclick={nextRange}>&#10095;</button>
                </div>
                <div class="day-headers">
                    <template for:each={days} for:item="day">
                        <p class="day-header" key={day}>{day}</p>
                    </template>
                </div>
                <div class="days slds-scrollable_y" style="height: 550px;">
                    <template for:each={daySlots} for:item="day" for:index="index">
                        <div class="slots" key={day}>
                            <template for:each={day} for:item="timeSlot">
                                <div class={timeSlot.class} key={timeSlot} onclick={selectTime} data-time={timeSlot.value} data-day={index}>{timeSlot.value}</div>
                            </template>
                        </div>
                    </template>
                </div>
            </div>
            <div class="info">
                <template if:false={isLoading}>
                    <div class="reservation" style="font-size: 20px;">Your Agent</div>
                    <img src={agentInfo.FullPhotoUrl} class="agent-image"/>
                    <div class="agent-contact">
                        {agentInfo.FirstName} {agentInfo.LastName}
                    </br>
                        {agentInfo.Phone}
                    </br>
                    {agentInfo.Email}
                    </div>
                    <template if:false={isSelected}>
                        <div class="reservation">
                        </br>
                            Demonstration date:
                        </br>
                        <p class="reservation-info">{selectedDateLabel}</p>
                        </br>
                            Demonstration time:
                        </br>
                        <p class="reservation-info">{selectedTimeLabel}</p>
                        </div>
                    </template>
                    
                </template>
                
                <button class="confirm-button" disabled={isSelected} onclick={confirmReservation}>Confirm</button>
            </div>
        </div>
       
    </lightning-card>
</template>